!function e(t,i,o){function a(r,c){if(!i[r]){if(!t[r]){var s="function"==typeof require&&require;if(!c&&s)return s(r,!0);if(n)return n(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var l=i[r]={exports:{}};t[r][0].call(l.exports,function(e){var i=t[r][1][e];return a(i||e)},l,l.exports,e,t,i,o)}return i[r].exports}for(var n="function"==typeof require&&require,r=0;r<o.length;r++)a(o[r]);return a}({1:[function(e,t,i){!function(e,t,i){"use strict";var o={cacheElements:function(){this.cache={$body:e("body"),$switchMode:e("#qazana-switch-mode"),$goToEditLink:e("#qazana-go-to-edit-page-link"),$switchModeInput:e("#qazana-switch-mode-input"),$switchModeButton:e("#qazana-switch-mode-button"),$qazanaLoader:e(".qazana-loader"),$qazanaEditor:e("#qazana-editor"),$importButton:e("#qazana-import-template-trigger"),$importArea:e("#qazana-import-template-area")}},toggleStatus:function(){var e="qazana"===this.getEditMode();this.cache.$body.toggleClass("qazana-editor-active",e).toggleClass("qazana-editor-inactive",!e)},bindEvents:function(){var o=this;o.cache.$switchModeButton.on("click",function(a){if(a.preventDefault(),"qazana"===o.getEditMode())o.cache.$switchModeInput.val("editor");else{o.cache.$switchModeInput.val("qazana");var n=e("#title");n.val()||n.val("Qazana #"+e("#post_ID").val()),wp.autosave.server.triggerSave(),o.animateLoader(),e(i).on("heartbeat-tick.autosave",function(){e(t).off("beforeunload.edit-post"),t.location=o.cache.$goToEditLink.attr("href")})}o.toggleStatus()}),o.cache.$goToEditLink.on("click",function(){o.animateLoader()}),e("div.notice.qazana-message-dismissed").on("click","button.notice-dismiss",function(t){t.preventDefault(),e.post(ajaxurl,{action:"qazana_set_admin_notice_viewed",notice_id:e(this).closest(".qazana-message-dismissed").data("notice_id")})}),e("#qazana-clear-css-cache-button").on("click",function(t){t.preventDefault();var i=e(this);i.removeClass("success").addClass("loading"),e.post(ajaxurl,{action:"qazana_clear_css_cache",_nonce:i.data("nonce")}).done(function(){i.removeClass("loading").addClass("success")})}),e("#qazana-library-sync-button").on("click",function(t){t.preventDefault();var i=e(this);i.removeClass("success").addClass("loading"),e.post(ajaxurl,{action:"qazana_reset_remote_library",_nonce:i.data("nonce")}).done(function(){i.removeClass("loading").addClass("success")})}),e("#qazana-replace-url-button").on("click",function(t){t.preventDefault();var i=e(this),o=i.parents("tr"),a=o.find('[name="from"]'),n=o.find('[name="to"]');i.removeClass("success").addClass("loading"),e.post(ajaxurl,{action:"qazana_replace_url",from:a.val(),to:n.val(),_nonce:i.data("nonce")}).done(function(e){i.removeClass("loading"),e.success&&i.addClass("success"),(new DialogsManager.Instance).createWidget("alert",{message:e.data}).show()})})},init:function(){this.cacheElements(),this.bindEvents(),this.initTemplatesImport()},initTemplatesImport:function(){if(this.cache.$body.hasClass("post-type-qazana_library")){var t=this,i=t.cache.$importButton,o=t.cache.$importArea;t.cache.$formAnchor=e("h1"),e("#wpbody-content").find(".page-title-action").after(i),t.cache.$formAnchor.after(o),i.on("click",function(){e("#qazana-import-template-area").toggle()})}},getEditMode:function(){return this.cache.$switchModeInput.val()},animateLoader:function(){this.cache.$goToEditLink.addClass("qazana-animate")}};e(function(){o.init()})}(jQuery,window,document)},{}]},{},[1]);