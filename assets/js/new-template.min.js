!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=171)}({0:function(t,e,n){var o;o=n(2).extend({elements:null,getDefaultElements:function(){return{}},bindEvents:function(){},onInit:function(){this.initElements(),this.bindEvents()},initElements:function(){this.elements=this.getDefaultElements()}}),t.exports=o},10:function(t,e){t.exports=Marionette.ItemView.extend({template:"#tmpl-qazana-templates-modal__header__logo",className:"qazana-templates-modal__header__logo",events:{click:"onClick"},templateHelpers:function(){return{title:this.getOption("title")}},onClick:function(){var t=this.getOption("click");t&&t()}})},16:function(t,e){var n;n=Marionette.LayoutView.extend({className:"qazana-templates-modal__header",template:"#tmpl-qazana-templates-modal__header",regions:{logoArea:".qazana-templates-modal__header__logo-area",tools:"#qazana-template-library-header-tools",menuArea:".qazana-templates-modal__header__menu-area"},ui:{closeModal:".qazana-templates-modal__header__close"},events:{"click @ui.closeModal":"onCloseModalClick"},templateHelpers:function(){return{closeType:this.getOption("closeType")}},onCloseModalClick:function(){this._parent._parent._parent.hideModal()}}),t.exports=n},17:function(t,e){var n;n=Marionette.ItemView.extend({id:"qazana-template-library-loading",template:"#tmpl-qazana-template-library-loading"}),t.exports=n},171:function(t,e,n){var o=n(0),i=n(172),a=o.extend({getDefaultSettings:function(){return{selectors:{addButton:".page-title-action:first, #qazana-template-library-add-new"}}},getDefaultElements:function(){var t=this.getSettings("selectors");return{$addButton:jQuery(t.addButton)}},bindEvents:function(){this.elements.$addButton.on("click",this.onAddButtonClick)},onInit:function(){o.prototype.onInit.apply(this,arguments),this.layout=new i,"#add_new"===location.hash&&this.layout.showModal()},onAddButtonClick:function(t){t.preventDefault(),this.layout.showModal()}});jQuery(function(){window.qazanaNewTemplate=new a})},172:function(t,e,n){var o=n(9),i=n(173);t.exports=o.extend({getModalOptions:function(){return{id:"qazana-new-template-modal"}},getLogoOptions:function(){return{title:qazanaAdmin.config.i18n.new_template}},initialize:function(){o.prototype.initialize.apply(this,arguments),this.showLogo(),this.showContentView()},getDialogsManager:function(){return qazanaAdmin.getDialogsManager()},showContentView:function(){this.modalContent.show(new i)}})},173:function(t,e){t.exports=Marionette.ItemView.extend({id:"qazana-new-template-dialog-content",template:"#tmpl-qazana-new-template",ui:{},events:{},onRender:function(){}})},2:function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){var t,e=jQuery,o=arguments,i=this,a={};this.getItems=function(t,e){if(e){var n=e.split("."),o=n.splice(0,1);if(!n.length)return t[o];if(!t[o])return;return this.getItems(t[o],n.join("."))}return t},this.getSettings=function(e){return this.getItems(t,e)},this.setSettings=function(o,a,r){if(r||(r=t),"object"===(void 0===o?"undefined":n(o)))return e.extend(r,o),i;var l=o.split("."),s=l.splice(0,1);return l.length?(r[s]||(r[s]={}),i.setSettings(l.join("."),a,r[s])):(r[s]=a,i)},this.forceMethodImplementation=function(t){var e=t.callee.name;throw new ReferenceError("The method "+e+" must to be implemented in the inheritor child.")},this.on=function(t,o){return"object"===(void 0===t?"undefined":n(t))?(e.each(t,function(t){i.on(t,this)}),i):(t.split(" ").forEach(function(t){a[t]||(a[t]=[]),a[t].push(o)}),i)},this.off=function(t,e){if(!a[t])return i;if(!e)return delete a[t],i;var n=a[t].indexOf(e);return-1!==n&&delete a[t][n],i},this.trigger=function(t){var n="on"+t[0].toUpperCase()+t.slice(1),o=Array.prototype.slice.call(arguments,1);i[n]&&i[n].apply(i,o);var r=a[t];return r?(e.each(r,function(t,e){e.apply(i,o)}),i):i},this.getDeviceName=function(){return jQuery("body").data("qazana-device-mode")},i.__construct.apply(i,o),e.each(i,function(t){var e=i[t];"function"==typeof e&&(i[t]=function(){return e.apply(i,arguments)})}),function(){t=i.getDefaultSettings();var n=o[0];n&&e.extend(t,n)}(),i.trigger("init")};o.prototype.__construct=function(){},o.prototype.getDefaultSettings=function(){return{}},o.extendsCount=0,o.extend=function(t){var e=jQuery,n=this,i=function(){return n.apply(this,arguments)};e.extend(i,n),(i.prototype=Object.create(e.extend({},n.prototype,t))).constructor=i;var a=++o.extendsCount;return i.prototype.getConstructorID=function(){return a},i.__super__=n.prototype,i},t.exports=o},9:function(t,e,n){var o=n(16),i=n(10),a=n(17);t.exports=Marionette.LayoutView.extend({el:function(){return this.modal.getElements("widget")},modal:null,regions:function(){return{modalHeader:".dialog-header",modalContent:".dialog-lightbox-content",modalLoading:".dialog-lightbox-loading"}},constructor:function(){this.initModal(),Marionette.LayoutView.prototype.constructor.apply(this,arguments)},initialize:function(){this.modalHeader.show(new o(this.getHeaderOptions()))},initModal:function(){var t={className:"qazana-templates-modal",closeButton:!1,hide:{onOutsideClick:!1}};jQuery.extend(!0,t,this.getModalOptions()),this.modal=this.getDialogsManager().createWidget("lightbox",t),this.modal.getElements("message").append(this.modal.addElement("content"),this.modal.addElement("loading"))},getDialogsManager:function(){return qazana.dialogsManager},showModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()},getModalOptions:function(){return{}},getLogoOptions:function(){return{}},getHeaderOptions:function(){return{}},getHeaderView:function(){return this.modalHeader.currentView},showLoadingView:function(){this.modalLoading.show(new a),this.modalLoading.$el.show(),this.modalContent.$el.hide()},hideLoadingView:function(){this.modalContent.$el.show(),this.modalLoading.$el.hide()},showLogo:function(){this.getHeaderView().logoArea.show(new i(this.getLogoOptions()))}})}});