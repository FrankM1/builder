!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=163)}({163:function(e,t,a){"use strict";!function(e){var t={cacheElements:function(){this.isQazanaMode="1"===QazanaGutenbergSettings.isQazanaMode,this.cache={},this.cache.$gutenberg=e("#editor"),this.cache.$switchMode=e(e("#qazana-gutenberg-button-switch-mode").html()),this.cache.$gutenberg.find(".edit-post-header-toolbar").append(this.cache.$switchMode),this.cache.$switchModeButton=this.cache.$switchMode.find("#qazana-switch-mode-button"),this.toggleStatus(),this.buildPanel();var t=this;wp.data.subscribe(function(){setTimeout(function(){t.buildPanel()},1)})},buildPanel:function(){var t=this;e("#qazana-editor").length||(t.cache.$editorPanel=e(e("#qazana-gutenberg-panel").html()),t.cache.$gurenbergBlockList=t.cache.$gutenberg.find(".editor-block-list__layout, .editor-post-text-editor"),t.cache.$gurenbergBlockList.after(t.cache.$editorPanel),t.cache.$editorPanelButton=t.cache.$editorPanel.find("#qazana-go-to-edit-page-link"),t.cache.$editorPanelButton.on("click",function(a){a.preventDefault(),t.animateLoader(),wp.data.select("core/editor").getEditedPostAttribute("title")||wp.data.dispatch("core/editor").editPost({title:"Qazana #"+e("#post_ID").val()}),wp.data.dispatch("core/editor").savePost(),t.redirectWhenSave()}))},bindEvents:function(){var e=this;e.cache.$switchModeButton.on("click",function(){if(e.isQazanaMode=!e.isQazanaMode,e.toggleStatus(),e.isQazanaMode)e.cache.$editorPanelButton.trigger("click");else{var t=wp.data.dispatch("core/editor");t.editPost({gutenberg_qazana_mode:!1}),t.savePost()}})},redirectWhenSave:function(){var e=this;setTimeout(function(){wp.data.select("core/editor").isSavingPost()?e.redirectWhenSave():location.href=QazanaGutenbergSettings.editLink},300)},animateLoader:function(){this.cache.$editorPanelButton.addClass("qazana-animate")},toggleStatus:function(){jQuery("body").toggleClass("qazana-editor-active",this.isQazanaMode).toggleClass("qazana-editor-inactive",!this.isQazanaMode)},init:function(){var e=this;setTimeout(function(){e.cacheElements(),e.bindEvents()},1)}};e(function(){t.init()})}(jQuery)}});